# Plan de Implementación de CLI (`arkitect-ui`) y Mejora del Registry

Este plan detalla la implementación de una CLI robusta para Arkitect UI, soportando `init`, `add` (con flag `--all`) y `list`, además de integrar `apps/cli` al proceso de release y mejorar la generación del registry.

## 1. Mejora del Registry (Infraestructura)

Para soportar los comandos `list` y `add --all`, necesitamos un índice accesible públicamente.
- [ ] **Actualizar Script `registry:build`**: Modificar el script en `package.json` para copiar el archivo `registry.json` raíz a `apps/docs/public/r/index.json` al finalizar el build.
    - Esto expondrá la lista completa de componentes en `https://devx-op.github.io/arkitect-ui/r/index.json`.

## 2. Configuración de Release
- [ ] **Actualizar `nx.json`**: Agregar `apps/cli` (o su nombre de proyecto Nx, probablemente `cli`) a la lista de proyectos en la configuración de release (`release.projects`).

## 3. Implementación de Comandos en CLI (`apps/cli`)

### Comando `init`
El objetivo es configurar el proyecto del usuario para usar Arkitect UI.
- [ ] **Detectar Framework**: Preguntar o detectar (React/Solid).
- [ ] **Configurar Rutas**: Preguntar por directorios clave (`src`, `components`, `lib/utils`).
- [ ] **Generar Configuración**: Crear un archivo `components.json` (compatible con shadcn) con la configuración base y la URL del registry de Arkitect UI.
- [ ] **Instalar Dependencias Base**: Ejecutar instalación de `shadcn`, `clsx`, `tailwind-merge`, `class-variance-authority`, y `@ark-ui/react` o `@ark-ui/solid` según corresponda.

### Comando `list`
- [ ] **Fetch del Índice**: Obtener `https://devx-op.github.io/arkitect-ui/r/index.json`.
- [ ] **Filtrar y Mostrar**: Listar los componentes disponibles, filtrando por el framework configurado en `components.json` (si existe) o mostrando todos.

### Comando `add` (Mejorado)
- [ ] **Soporte `--all`**:
    -   Si se usa el flag `--all`, obtener el índice (`index.json`), filtrar por framework y ejecutar la instalación para todos los componentes disponibles.
- [ ] **Instalación Individual**:
    -   Resolver la URL del componente específico (ej: `.../r/r/button.json` para React).
    -   Invocar `npx shadcn@latest add <url>` para delegar la instalación y manejo de dependencias.

## 4. Testing y Validación
- [ ] **Build y Link Local**: Compilar `apps/cli` y vincularlo globalmente (`pnpm link --global`).
- [ ] **Prueba de Flujo Completo**:
    1.  Crear proyecto React (Vite).
    2.  Ejecutar `arkitect-ui init`.
    3.  Ejecutar `arkitect-ui list`.
    4.  Ejecutar `arkitect-ui add button` y verificar instalación.
    5.  Ejecutar `arkitect-ui add --all` y verificar instalación masiva.
    6.  Repetir para Solid.

## 5. Documentación
- [ ] Actualizar `README.md` de la CLI con los nuevos comandos y ejemplos de uso.
